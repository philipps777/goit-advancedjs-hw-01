{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nconst selectors = {\n  form: document.querySelector('.feedback-form'),\n  LS: 'feedback-form-state',\n};\n\nlet formData = {};\nloadFormData();\n\nselectors.form.addEventListener('input', throttle(handleInput, 500));\nselectors.form.addEventListener('submit', handleSubmit);\n\nfunction handleInput(event) {\n  const form = event.currentTarget;\n  formData[event.target.name] = event.target.value.trim();\n  localStorage.setItem(selectors.LS, JSON.stringify(formData));\n}\nfunction handleSubmit(event) {\n  event.preventDefault();\n  localStorage.removeItem(selectors.LS);\n  event.currentTarget.reset();\n  console.log(formData);\n  formData = {};\n}\nfunction loadFormData() {\n  try {\n    const saveData = localStorage.getItem(selectors.LS);\n    if (!saveData) return;\n    formData = JSON.parse(saveData);\n    Object.entries(formData).forEach(([key, value]) => {\n      selectors.form.elements[key].value = value;\n    });\n  } catch ({ message }) {\n    console.log(message);\n  }\n}\n"],"names":["selectors","formData","loadFormData","throttle","handleInput","handleSubmit","event","saveData","key","value","message"],"mappings":"wIACA,MAAMA,EAAY,CAChB,KAAM,SAAS,cAAc,gBAAgB,EAC7C,GAAI,qBACN,EAEA,IAAIC,EAAW,CAAA,EACfC,IAEAF,EAAU,KAAK,iBAAiB,QAASG,EAASC,EAAa,GAAG,CAAC,EACnEJ,EAAU,KAAK,iBAAiB,SAAUK,CAAY,EAEtD,SAASD,EAAYE,EAAO,CACbA,EAAM,cACnBL,EAASK,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAAM,OACjD,aAAa,QAAQN,EAAU,GAAI,KAAK,UAAUC,CAAQ,CAAC,CAC7D,CACA,SAASI,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,aAAa,WAAWN,EAAU,EAAE,EACpCM,EAAM,cAAc,QACpB,QAAQ,IAAIL,CAAQ,EACpBA,EAAW,CAAA,CACb,CACA,SAASC,GAAe,CACtB,GAAI,CACF,MAAMK,EAAW,aAAa,QAAQP,EAAU,EAAE,EAClD,GAAI,CAACO,EAAU,OACfN,EAAW,KAAK,MAAMM,CAAQ,EAC9B,OAAO,QAAQN,CAAQ,EAAE,QAAQ,CAAC,CAACO,EAAKC,CAAK,IAAM,CACjDT,EAAU,KAAK,SAASQ,CAAG,EAAE,MAAQC,CAC3C,CAAK,CACL,OAAW,CAAE,QAAAC,GAAW,CACpB,QAAQ,IAAIA,CAAO,CACpB,CACH"}