{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["\nimport throttle from 'lodash.throttle';\n\nconst formEl = document.querySelector('.feedback-form');\n\nconst LS = 'feedback-form-state';\n\nlet formData = {};\n\nconst saveFormState = (e) => {\n  formData[e.target.name] = e.target.value.trim(); \n  localStorage.setItem(LS, JSON.stringify(formData));\n};\n\n\n\nconst resetFormState = () => {\n  localStorage.removeItem(LS);  \n};\n\n\nconst handleFormInput = throttle(saveFormState, 500);\n\nformEl.addEventListener('submit', (event) => {\n  event.preventDefault();\n  console.log(formData);\n  formData = {}; \n  resetFormState();\n});\n\n\n\nconst onLoad = () => {\n  try {\n    const data = localStorage.getItem(LS);\n    if(!data) return;\n    formData = JSON.parse(data);\n    Object.entries(formData).forEach(([key, val]) =>{\n      formEl.elements[key].value = val\n    });\n  } catch (error) {\n    console.log(error.message);\n\n  }\n};\n\nwindow.addEventListener(\"load\", onLoad)"],"names":["formEl","LS","formData","saveFormState","resetFormState","throttle","event","onLoad","data","key","val","error"],"mappings":"wIAGA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EAEhDC,EAAK,sBAEX,IAAIC,EAAW,CAAA,EAEf,MAAMC,EAAiB,GAAM,CAC3BD,EAAS,EAAE,OAAO,IAAI,EAAI,EAAE,OAAO,MAAM,OACzC,aAAa,QAAQD,EAAI,KAAK,UAAUC,CAAQ,CAAC,CACnD,EAIME,EAAiB,IAAM,CAC3B,aAAa,WAAWH,CAAE,CAC5B,EAGwBI,EAASF,EAAe,GAAG,EAEnDH,EAAO,iBAAiB,SAAWM,GAAU,CAC3CA,EAAM,eAAc,EACpB,QAAQ,IAAIJ,CAAQ,EACpBA,EAAW,CAAA,EACXE,GACF,CAAC,EAID,MAAMG,EAAS,IAAM,CACnB,GAAI,CACF,MAAMC,EAAO,aAAa,QAAQP,CAAE,EACpC,GAAG,CAACO,EAAM,OACVN,EAAW,KAAK,MAAMM,CAAI,EAC1B,OAAO,QAAQN,CAAQ,EAAE,QAAQ,CAAC,CAACO,EAAKC,CAAG,IAAK,CAC9CV,EAAO,SAASS,CAAG,EAAE,MAAQC,CACnC,CAAK,CACF,OAAQC,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAE1B,CACH,EAEA,OAAO,iBAAiB,OAAQJ,CAAM"}